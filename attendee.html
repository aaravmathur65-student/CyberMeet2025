<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- ===================== META & TITLE ===================== -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Attendee</title>

    <!-- ===================== EXTERNAL STYLES ===================== -->
    <link rel="stylesheet" href="stylesheet.css" />
    <link rel="stylesheet" href="header.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- ===================== INTERNAL STYLES ===================== -->
    <style>
      /* ===================== PAGE LAYOUT ===================== */
      #attendee-list-container {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        width: 100%;
        padding: 20px;
        box-sizing: border-box;
      }

      /* ===================== TABLE SECTION ===================== */
      #table-container {
        width: 95%;
        max-width: 900px;
        padding: 20px 30px;
        border: 2px solid #2a4d9b;
        border-radius: 10px;
        margin-top: 50px;
        box-sizing: border-box;
      }

      /* ===================== TABLE STYLING ===================== */
      h1 {
        text-align: center;
        margin-bottom: 10px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        word-wrap: break-word;
      }

      thead {
        font-size: 1.4rem;
      }

      th,
      td {
        padding: 12px 10px;
        border: 1px solid #ccc;
        text-align: left;
      }

      td:nth-child(1) {
        width: 40%;
      }
    </style>
  </head>
  <body>
    <div id="header-container"></div>

    <!-- ===================== ATTENDEE LIST SECTION ===================== -->
    <div id="attendee-list-container">
      <div id="table-container">
        <h1>Attendee List</h1>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Ticket</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Olivia Johnson</td>
              <td>General Pass</td>
            </tr>
            <tr>
              <td>Liam Smith</td>
              <td>Virtual Pass</td>
            </tr>
            <tr>
              <td>Emma Williams</td>
              <td>Student Pass</td>
            </tr>
            <tr>
              <td>Noah Brown</td>
              <td>General Pass</td>
            </tr>
            <tr>
              <td>Ava Davis</td>
              <td>Virtual Pass</td>
            </tr>
            <tr>
              <td>William Miller</td>
              <td>Student Pass</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ===================== SCRIPTS ===================== -->
    <script src="header.js"></script>
    <script>
      /* ===================== DYNAMIC ATTENDEE ADDITION ===================== */
      window.addEventListener("message", function (event) {
        const d = event.data;

        // Accept only valid attendee messages
        if (!d || typeof d !== "object") return;
        if (!d.name || !d.ticket) return;

        const tbody = document.querySelector("table tbody");

        const newRow = document.createElement("tr");

        const nameCell = document.createElement("td");
        nameCell.textContent = d.name;

        const ticketCell = document.createElement("td");
        ticketCell.textContent = d.ticket;

        newRow.appendChild(nameCell);
        newRow.appendChild(ticketCell);

        tbody.appendChild(newRow);
      });
    </script>
  </body>
</html>
